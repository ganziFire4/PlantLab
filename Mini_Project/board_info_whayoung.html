<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>플랜트랩_쇼핑몰</title>
    <link rel="icon" type="img/png" href="images/round_logo_whiteBack.svg">
    <link rel="stylesheet" href="css/nav_header_footer.css">
    <link rel="stylesheet" href="css/store.css">
    <!--bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>
<body class="noto-sans-kr">
    <nav>
        <div class="nav_left">
            <div>
                <a href="#">
                    <img src="images/nav_logo.svg" alt="플랜트랩 쇼핑몰로고">
                </a>
            </div>
            <div>
                <ul class="nav_menu">
                    <li><a href="#">커뮤니티</a></li>
                    <li><a href="#">스토어</a></li>
                </ul>
            </div>
        </div>
        <div class="nav_right">
            <div class="nav_search">
                <span>
                    <svg width="25" height="25.5" viewBox="0 0 30 34" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M28.9749 26.5226L23.9072 20.9181L20.0092 19.137C21.3071 17.0958 22.0025 14.6606 22 12.1652C22 5.45727 17.0654 0 11 0C4.93455 0 0 5.45727 0 12.1652C0 18.8731 4.93455 24.3304 11 24.3304C13.276 24.3333 15.4961 23.551 17.3511 22.0925L18.9574 26.3918L24.0249 31.9966C24.3499 32.3561 24.7358 32.6412 25.1604 32.8357C25.5851 33.0303 26.0402 33.1304 26.4998 33.1304C26.9595 33.1305 27.4146 33.0303 27.8393 32.8358C28.2639 32.6413 28.6498 32.3562 28.9748 31.9968C29.2998 31.6374 29.5576 31.2106 29.7335 30.741C29.9094 30.2714 30 29.7681 30 29.2597C30 28.7514 29.9095 28.2481 29.7336 27.7784C29.5577 27.3088 29.2999 26.8821 28.9749 26.5226ZM2 12.1652C2 6.67703 6.03749 2.21185 11 2.21185C15.9625 2.21185 20 6.67703 20 12.1652C20 17.6534 15.9625 22.1185 11 22.1185C6.03749 22.1185 2 17.6534 2 12.1652ZM27.5606 30.4326C27.2791 30.7433 26.8976 30.9177 26.4999 30.9177C26.1022 30.9177 25.7208 30.7433 25.4393 30.4326L20.6535 25.1399L19.1601 21.1424L22.7749 22.7939L27.5607 28.0866C27.8416 28.398 27.9993 28.8198 27.9993 29.2596C27.9993 29.6994 27.8415 30.1213 27.5606 30.4326Z" fill="#878787"/>
                        </svg>                    
                </span>
                <input type="text" id="search" placeholder="통합검색">
            </div>
            <script>
                const nickname = sessionStorage.getItem("login");
                if(nickname === null){
                    document.write(`
                    <div class="member">
                        <ul>
                            <li><a href="_01_login01.html">로그인</a></li>
                            |
                            <li><a href="_02_join01.html">회원가입</a></li>
                        </ul>
                    </div>
                    `);
                } else {
                    document.write(`
                    <div class="member">
                        <ul>
                            <li style="margin:0;">
                                <a href="#">
                                    <img src="imagse/profile_empty.svg" alt="임시 프로필사진" width="40px" height="40px">
                                </a>
                            </li>
                            <li style="margin-left: 10px; font-size: 1.1rem">
                                <a href="#" style="font-weight:400">${nickname}</a>
                            </li>
                        </ul>
                    </div>
                    `);
                }
            </script>
        </div>
    </nav>
    <header>
        <img src="images/쇼핑몰 헤더 이미지.png" alt="쇼핑몰 헤더">
    </header>
    <main>
    <div class="right-panel" id="rightPanel">
      <div class="toggle-button" id="toggleButton">
        <span class="arrow arrow-left"></span>
      </div>
      <div class="panel-content">
        <div class="panel-item">
          <div class="">
            <a href="https://open.kakao.com/o/sWQxdYAg">
              <img src="images/카카오톡 상담.png" alt="카카오톡 상담">
                <br>
                카카오톡 
                <br>
                상담문의
              </a>
            </div>
          </div>
          <div class="panel-item">
            <a href="">
              <img src="images/마이페이지.png" alt="마이페이지">
                <br>
                마이페이지
                </a>
            </div>
          <div class="panel-item">
            <a href="">
              <img src="images/장바구니.png" alt="장바구니">
                <br>
                장바구니
            </a>
          </div>
          <div class="panel-item recent-items">
            <button id="prevBtn" style="border: none; background-color: white;">
              <img src="images/좌측으로.png" alt="우측패널 좌측으로">
            </button>
            <div class="recent-item-viewer" id="recentItemViewer">
              <img src="https://via.placeholder.com/30" alt="최근 상품" id="recentItemImage">
            </div>
            <button id="nextBtn" style="border: none; background-color: white;">
              <img src="images/우측으로.png" alt="우측패널 우측으로">
            </button>
          </div>
          <span id="recentItemsText">최근 열람 품목</span>
            <span><button id="topBtn" style="background-color: white; border: none; margin-left: 66px;"><img src="images/on top.png" alt="페이지 최상단으로"></button></span>
      </div>
    </div>
      <div class="overall_container">
        <div class="selector">
          <ul>
            <li class="item" id="item1" onclick="toggleAct(this)">#식물키트</li>
            <li class="item" id="item2" onclick="toggleAct(this)">#공기정화</li>
            <li class="item" id="item3" onclick="toggleAct(this)">#사무실</li>
            <li class="item" id="item4" onclick="toggleAct(this)">#인테리어</li>
            <li class="item" id="item5" onclick="toggleAct(this)">#간단식용</li>
            <li class="item" id="item6" onclick="toggleAct(this)">#미니식물</li>
          </ul>
        </div>
      <div class="sort_box">
        <div>
          <div class="color-container">
            <span style="font-weight: bold; margin-right: 20px; margin-left: 20px; font-size: 20px;">색상</span>
            <button class="circle" data-color="빨강" style="background-color: red;"></button>
            <button class="circle" data-color="주황" style="background-color: orange;"></button>
            <button class="circle" data-color="노랑" style="background-color: yellow;"></button>
            <button class="circle" data-color="초록" style="background-color: green;"></button>
            <button class="circle" data-color="파랑" style="background-color: blue;"></button>
            <button class="circle" data-color="보라" style="background-color: indigo;"></button>
            <button class="circle" data-color="분홍" style="background-color: violet;"></button>
          </div>
              <div class="sort_set">
                  <span style="font-weight: bold; margin-right: 40px;">꽃 / 열매 유무</span>
                  <label><input type="checkbox" name="flower" value="꽃"><span class="filter-text">꽃</span></label>
                  <label><input type="checkbox" name="fruit" value="열매"><span class="filter-text">열매</span></label>
              </div>
          <div class="sort_set">
            <span style="font-weight: bold; margin-right: 40px;">채광 유무</span>
            <label><input type="checkbox" name="light_mining" value="off"><span class="filter-text">음지(빛없는 실내)</span></label>
            <label><input type="checkbox" name="light_mining" value="on"><span class="filter-text">양지(빛이 많은곳)</span></label>
          </div>
          <div class="sort_set">
            <span style="font-weight: bold; margin-right: 40px;">원예 형태</span>
            <label><input type="checkbox" name="horticultural_form" value="화분"><span class="filter-text">화분</span></label>
            <label><input type="checkbox" name="horticultural_form" value="꽃병"><span class="filter-text">꽃병</span></label>
            <label><input type="checkbox" name="horticultural_form" value="바구니"><span class="filter-text">바구니</span></label>
          </div>
          <div class="sort_set">
            <span style="font-weight: bold; margin-right: 40px;">사이즈</span>
            <label><input type="checkbox" name="size" value="마당용"><span class="filter-text">마당용</span></label>
            <label><input type="checkbox" name="size" value="실내용"><span class="filter-text">실내용</span></label>
            <label><input type="checkbox" name="size" value="탁상용"><span class="filter-text">탁상용(미니)</span></label>
          </div>
          <div class="sort_set">
            <span style="font-weight: bold; margin-right: 40px;">할인 유무</span>
            <label><input type="checkbox" name="sale" value="on"><span class="filter-text">할인적용 상품</span></label>
          </div>
        </div>
      </div>
      <div class="goods_object" style="margin-bottom: 3rem;">
        <div class="entire_goods">
          <div class="dropdown1">
            <button class="dropdown-btn" onclick="toggleDropdown()">정렬기준 ▼</button>
            <ul class="dropdown-menu">
              <li data-sort="rating">평점순</li>
              <li data-sort="price-asc">가격낮은순</li>
              <li data-sort="price-desc">가격높은순</li>
              <li data-sort="views">조회순</li>
            </ul>
          </div>
        </div>
          <h1 style="display: inline; margin-right: 5px;">식물 상품</h1>
          <p style="display: inline; font-size: 25px;">나에게 맞는 식물친구들을 찾아보세요</p>
      </div>
      <div id="product-container" class="product_container">
        <div class="product_row">
          <div class="product_item" data-category="식물키트" data-color="초록" data-rating="4.8" data-light_mining="on" data-horticultural_form="화분" data-size="탁상용" data-sale="on" data-fruit="">
            <a href="purchase.html">
              <img src="images/베이직 키트.png" alt="물품 이미지">
              <div class="goods_border">
                <p class="product_title">식물나라 베이직 키트</p>
                <p class="product_company">식물나라</p>
                <p class="product_price">9,900 원</p>
                <p class="product_rating">평점: 4.8</p>
              </div>
            </a>
          </div>
          <div class="product_item" data-category="인테리어" data-color="파랑" data-rating="4.7" data-light_mining="on" data-horticultural_form="꽃병" data-size="실내용" data-sale="off" data-fruit="꽃">
            <a href="product-page.html">
              <img src="images/8-블루 데이지.png" alt="물품 이미지">
              <div class="goods_border">
                <p class="product_title">블루 데이지</p>
                <p class="product_company">식물나라</p>
                <p class="product_price">22,000 원</p>
                <p class="product_rating">평점: 4.7</p>
              </div>
            </a>
          </div>
          <div class="product_item" data-category="사무실" data-color="빨강" data-rating="4.0" data-light_mining="on" data-horticultural_form="바구니" data-size="탁상용" data-sale="on" data-fruit="꽃">
            <a href="product-page.html">
              <img src="images/2-생화 카네이션 꽃바구니.jpg" alt="물품 이미지">
              <div class="goods_border">
                <p class="product_title">선물용 카네이션 & 꽃바구니</p>
                <p class="product_company">식물나라</p>
                <p class="product_price">30,000 원</p>
                <p class="product_rating">평점: 4.0</p>
              </div>
            </a>
          </div>
        </div>
      
        <div class="product_row">
          <div class="product_item" data-category="공기정화" data-color="노랑" data-rating="4.6" data-light_mining="off" data-horticultural_form="꽃병" data-size="실내용" data-sale="off" data-fruit="꽃">
            <a href="product-page.html">
              <img src="images/4-노란색 구즈마니아.png" alt="물품 이미지">
              <div class="goods_border">
                <p class="product_title">구즈마니아</p>
                <p class="product_company">식물나라</p>
                <p class="product_price">27,000 원</p>
                <p class="product_rating">평점: 4.6</p>
              </div>
            </a>
          </div>
          <div class="product_item" data-category="사무실" data-color="주황" data-rating="4.1" data-light_mining="on" data-horticultural_form="꽃병" data-size="탁상용" data-sale="off" data-fruit="꽃">
            <a href="product-page.html">
              <img src="images/5-주황장미.png" alt="물품 이미지">
              <div class="goods_border">
                <p class="product_title">주황장미</p>
                <p class="product_company">식물나라</p>
                <p class="product_price">14,500 원</p>
                <p class="product_rating">평점: 4.1</p>
              </div>
            </a>
          </div>
          <div class="product_item" data-category="공기정화" data-color="초록" data-rating="4.5" data-light_mining="off" data-horticultural_form="화분" data-size="실내용" data-sale="off" data-fruit="">
            <a href="product-page.html">
              <img src="images/6-실내 음지 더피고사리.jpg" alt="물품 이미지">
              <div class="goods_border">
                <p class="product_title">더피고사리</p>
                <p class="product_company">식물나라</p>
                <p class="product_price">22,500 원</p>
                <p class="product_rating">평점: 4.5</p>
              </div>
            </a>
          </div>
        </div>
      
        <div class="product_row">
          <div class="product_item" data-category="미니식물" data-color="분홍" data-rating="4.4" data-light_mining="on" data-horticultural_form="꽃병" data-size="탁상용" data-sale="off" data-fruit="꽃">
            <a href="product-page.html">
              <img src="images/7-취설송 다육이 핑크선인장.png" alt="물품 이미지">
              <div class="goods_border">
                <p class="product_title">취설송 다육이 핑크선인장</p>
                <p class="product_company">식물나라</p>
                <p class="product_price">24,000 원</p>
                <p class="product_rating">평점: 4.4</p>
              </div>
            </a>
          </div>
          <div class="product_item" data-category="간단식용" data-color="빨강" data-rating="3.8" data-light_mining="on" data-horticultural_form="화분" data-size="마당용" data-sale="off" data-fruit="열매">
            <a href="product-page.html">
              <img src="images/3-tomato.png" alt="물품 이미지">
              <div class="goods_border">
                <p class="product_title">토마토 키우기 세트</p>
                <p class="product_company">식물나라</p>
                <p class="product_price">12,000 원</p>
                <p class="product_rating">평점: 3.8</p>
              </div>
            </a>
          </div>
          <div class="product_item" data-category="인테리어" data-color="보라" data-rating="4.0" data-light_mining="on" data-horticultural_form="화분" data-size="마당용" data-sale="off" data-fruit="꽃">
            <a href="product-page.html">
              <img src="images/9 - 보라 마당식물 장미칼파눌라(신종보라겹꽃).jpg" alt="물품 이미지">
              <div class="goods_border">
                <p class="product_title">신종보라겹꽃</p>
                <p class="product_company">식물나라</p>
                <p class="product_price">38,500 원</p>
                <p class="product_rating">평점: 4.0</p>
              </div>
            </a>
          </div>
        </div>
      </div>
  </div>
        <script>
document.addEventListener('DOMContentLoaded', function() {
  const products = document.querySelectorAll('.product_item');
  const productContainer = document.getElementById('product-container');
  const filters = {
    category: null,
    color: null,
    rating: null,
    light_mining: [],
    horticultural_form: [],
    size: [],
    sale: null,
    flower: null,
    fruit: null,
    sort: null
  };

  function applyFilters() {
    let filteredProducts = Array.from(products);

    if (filters.category) {
      filteredProducts = filteredProducts.filter(product => product.getAttribute('data-category') === filters.category);
    }

    if (filters.color) {
      filteredProducts = filteredProducts.filter(product => product.getAttribute('data-color') === filters.color);
    }

    if (filters.rating) {
      filteredProducts = filteredProducts.filter(product => parseFloat(product.getAttribute('data-rating')) >= filters.rating);
    }

    if (filters.light_mining.length) {
      filteredProducts = filteredProducts.filter(product => filters.light_mining.includes(product.getAttribute('data-light_mining')));
    }

    if (filters.horticultural_form.length) {
      filteredProducts = filteredProducts.filter(product => filters.horticultural_form.includes(product.getAttribute('data-horticultural_form')));
    }

    if (filters.size.length) {
      filteredProducts = filteredProducts.filter(product => filters.size.includes(product.getAttribute('data-size')));
    }

    if (filters.sale) {
      filteredProducts = filteredProducts.filter(product => product.getAttribute('data-sale') === filters.sale);
    }

    if (filters.flower) {
      filteredProducts = filteredProducts.filter(product => product.getAttribute('data-fruit') === filters.flower);
    }

    if (filters.fruit) {
      filteredProducts = filteredProducts.filter(product => product.getAttribute('data-fruit') === filters.fruit);
    }

    if (filters.sort) {
      filteredProducts.sort((a, b) => {
        if (filters.sort === 'rating') {
          return parseFloat(b.querySelector('.product_rating').textContent.replace('평점: ', '')) - parseFloat(a.querySelector('.product_rating').textContent.replace('평점: ', ''));
        } else if (filters.sort === 'price-asc') {
          return parseFloat(a.querySelector('.product_price').textContent.replace(/[^0-9.-]+/g, "")) - parseFloat(b.querySelector('.product_price').textContent.replace(/[^0-9.-]+/g, ""));
        } else if (filters.sort === 'price-desc') {
          return parseFloat(b.querySelector('.product_price').textContent.replace(/[^0-9.-]+/g, "")) - parseFloat(a.querySelector('.product_price').textContent.replace(/[^0-9.-]+/g, ""));
        }
      });
    }

    productContainer.innerHTML = '';

    let currentRow;
    filteredProducts.forEach((product, index) => {
      if (index % 3 === 0) {
        currentRow = document.createElement('div');
        currentRow.classList.add('product_row');
        productContainer.appendChild(currentRow);
      }
      currentRow.appendChild(product);
    });

    // 빈 자리 채우기
    const emptyItemsToAdd = (3 - (filteredProducts.length % 3)) % 3;
    for (let i = 0; i < emptyItemsToAdd; i++) {
      const emptyItem = document.createElement('div');
      emptyItem.classList.add('product_item');
      emptyItem.style.visibility = 'hidden'; // 이 부분 수정
      currentRow.appendChild(emptyItem);
    }
  }

  document.querySelectorAll('.selector .item').forEach(item => {
    item.addEventListener('click', function() {
      const category = item.textContent.replace('#', '');
      filters.category = (filters.category === category) ? null : category;
      document.querySelectorAll('.selector .item').forEach(i => i.classList.remove('act'));
      if (filters.category) item.classList.add('act');
      applyFilters();
    });
  });

  document.querySelectorAll('.color-container .circle').forEach(circle => {
    circle.addEventListener('click', function() {
      filters.color = (filters.color === circle.getAttribute('data-color')) ? null : circle.getAttribute('data-color');
      document.querySelectorAll('.color-container .circle').forEach(c => c.classList.remove('selected'));
      if (filters.color) circle.classList.add('selected');
      applyFilters();
    });
  });

  document.querySelectorAll('input[name="light_mining"]').forEach(input => {
    input.addEventListener('change', function(event) {
      if (event.target.checked) {
        filters.light_mining.push(event.target.value);
      } else {
        filters.light_mining = filters.light_mining.filter(value => value !== event.target.value);
      }
      applyFilters();
    });
  });

  document.querySelectorAll('input[name="horticultural_form"]').forEach(input => {
    input.addEventListener('change', function(event) {
      if (event.target.checked) {
        filters.horticultural_form.push(event.target.value);
      } else {
        filters.horticultural_form = filters.horticultural_form.filter(value => value !== event.target.value);
      }
      applyFilters();
    });
  });

  document.querySelectorAll('input[name="size"]').forEach(input => {
    input.addEventListener('change', function(event) {
      if (event.target.checked) {
        filters.size.push(event.target.value);
      } else {
        filters.size = filters.size.filter(value => value !== event.target.value);
      }
      applyFilters();
    });
  });

  document.querySelectorAll('input[name="sale"]').forEach(input => {
    input.addEventListener('change', function(event) {
      filters.sale = event.target.checked ? event.target.value : null;
      applyFilters();
    });
  });

  document.querySelectorAll('input[name="flower"]').forEach(input => {
    input.addEventListener('change', function(event) {
      filters.flower = event.target.checked ? event.target.value : null;
      applyFilters();
    });
  });

  document.querySelectorAll('input[name="fruit"]').forEach(input => {
    input.addEventListener('change', function(event) {
      filters.fruit = event.target.checked ? event.target.value : null;
      applyFilters();
    });
  });

  document.querySelector('.dropdown1 .dropdown-btn').addEventListener('click', function() {
    var menu = document.querySelector('.dropdown1 .dropdown-menu');
    menu.style.display = (menu.style.display === 'block') ? 'none' : 'block';
  });

  document.querySelector('.dropdown1 .dropdown-menu').addEventListener('click', function(event) {
    filters.sort = event.target.getAttribute('data-sort');
    applyFilters();
    var menu = document.querySelector('.dropdown1 .dropdown-menu');
    menu.style.display = 'none';
  });

  applyFilters();
});


document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('toggleButton').addEventListener('click', function() {
        var panel = document.getElementById('rightPanel');
        panel.classList.toggle('open');
        var arrows = document.querySelectorAll('.toggle-button .arrow');
        arrows.forEach(arrow => arrow.classList.toggle('open'));
    });

    function updateRecentItemViewer() {
        const viewer = document.getElementById('recentItemImage');
        if (recentItems.length > 0) {
            viewer.src = recentItems[currentIndex];
        } else {
            viewer.src = 'https://via.placeholder.com/30';
        }
    }

    let recentItems = [];
    let currentIndex = 0;

    document.getElementById('prevBtn').addEventListener('click', function() {
        if (recentItems.length > 0) {
            currentIndex = (currentIndex - 1 + recentItems.length) % recentItems.length;
            updateRecentItemViewer();
        }
    });

    document.getElementById('nextBtn').addEventListener('click', function() {
        if (recentItems.length > 0) {
            currentIndex = (currentIndex + 1) % recentItems.length;
            updateRecentItemViewer();
        }
    });

    document.getElementById('topBtn').addEventListener('click', function() {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });

    updateRecentItemViewer(); // 초기 업데이트
});



    </script>
    </div>
  </main>
  <footer>
      <div class="f_container">
          <div style="margin: auto 50px;">
              <img width="150px" height="150px" src="images/round_logo_colorBack.svg" alt="플랜트팜 로고">
          </div>
          <div>
              <p>주소 :  서울특별시 강남구 강남대로2689길 20, 5층(역삼동)   TEL : 02 - 1111-2222</p>
              <p>상호명 : (주)플랜트랩</p>
              <p>Copyright © 2024 .All RIGHTS RSERVED.</p>
              <p>불4조 :  정다은  김화영  김시표  송주헌  반재형</p>
          </div>
      </div>
  </footer>
  <!-- <div id="chat">
      <svg width="80" height="80" viewBox="0 0 150 150" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd" d="M40 80C17.908 80 0 62.092 0 40C0 17.908 17.908 0 40 0C62.092 0 80 17.908 80 40C80 62.092 62.092 80 40 80ZM40 72C48.4869 72 56.6263 68.6286 62.6274 62.6274C68.6286 56.6263 72 48.4869 72 40C72 31.5131 68.6286 23.3737 62.6274 17.3726C56.6263 11.3714 48.4869 8 40 8C31.5131 8 23.3737 11.3714 17.3726 17.3726C11.3714 23.3737 8 31.5131 8 40C8 48.4869 11.3714 56.6263 17.3726 62.6274C23.3737 68.6286 31.5131 72 40 72ZM36 56H44V64H36V56ZM36 48.032C36 48.032 44 48 44 48.032C44 44.024 56 40 56 32C56 23.16 48.908 16 40.036 16C37.9318 15.9953 35.8474 16.4056 33.902 17.2076C31.9566 18.0095 30.1886 19.1873 28.699 20.6735C27.2095 22.1598 26.0277 23.9252 25.2214 25.8687C24.415 27.8123 24 29.8958 24 32H32C32 27.6 35.6 24 40 24C44.4 24 48 27.6 48 32C48 35.6 36 41.468 36 48.032Z" fill="white"/>
      </svg>        
  </div> -->
</body>
</html>